"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _constants = require("./common/constants");

var specEntry = "".concat(_constants.gemspecStartToken, " |s|");

var attributesToStr = function attributesToStr() {
  var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var attrs = Object.keys(attributes);
  var pad = attrs.map(function (a) {
    return a.length;
  }).sort(function (a, b) {
    return b - a;
  })[0];
  return attrs.reduce(function (acc, a) {
    return "".concat(acc, "\n  s.").concat(a.padEnd(pad, ' '), " = ").concat(attributes[a]);
  }, '');
};

var dependenciesToStr = function dependenciesToStr(token) {
  return function (dependencies) {
    return Object.values(dependencies).reduce(function (acc, d) {
      return "".concat(acc, "\n  s.").concat(token, " ").concat(d);
    }, '');
  };
};

var _default = function _default(_ref) {
  var header = _ref.header,
      attributes = _ref.attributes,
      dependencies = _ref.dependencies,
      devDependencies = _ref.devDependencies;
  return "".concat(header).concat(specEntry).concat(attributesToStr(attributes), "\n").concat(dependenciesToStr(_constants.addDepToken)(dependencies), "\n").concat(dependenciesToStr(_constants.addDevDepToken)(devDependencies), "\nend\n");
};

exports.default = _default;